<!doctype html>
<html lang="en">
    <head>

        <link rel="icon" type="image/png" href="favicon.png">
        <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-W5BV7BH4');</script>
<!-- End Google Tag Manager -->
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>ProTech | Article</title>
        <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
        <style>
            :root {
                --bg-body: #0a0b10;
                --bg-card: #12141c;
                --accent-blue: #007aff;
                --text-primary: #ffffff;
                --text-secondary: #94a3b8;
                --border-color: #1e293b;
            }
            body { font-family: "Inter", sans-serif; background-color: var(--bg-body); color: var(--text-primary); margin: 0; padding: 0; line-height: 1.6; }
            nav { background: rgba(13, 15, 22, 0.9); backdrop-filter: blur(12px); border-bottom: 1px solid var(--border-color); position: sticky; top: 0; z-index: 1000; display: flex; justify-content: space-between; align-items: center; min-height: 70px; padding: 0 40px; }
            .logo { font-family: "Space Grotesk", sans-serif; text-transform: uppercase; text-decoration: none; color: white; font-size: 1.5rem; font-weight: bold; }
            .logo span { color: var(--accent-blue); }
            .nav-list { display: flex; list-style: none; margin: 0; padding: 0; }
            .nav-list li a { text-decoration: none; color: white; padding: 20px 25px; display: block; font-size: 0.85rem; text-transform: uppercase; transition: 0.3s; }
            .wrapper { max-width: 800px; margin: 40px auto; padding: 0 20px; }
            .article-img { width: 100%; max-height: 500px; object-fit: cover; border-radius: 20px; margin-bottom: 30px; }
            .cat-tag { background: var(--accent-blue); color: #fff; font-size: 0.75rem; padding: 4px 12px; border-radius: 5px; text-transform: uppercase; font-weight: bold; }
            
            /* تصميم زر المشاركة الموحد */
            .share-trigger {
                display: flex;
                align-items: center;
                gap: 10px;
                background: #1e293b;
                color: white;
                border: 1px solid var(--border-color);
                padding: 10px 20px;
                border-radius: 50px;
                cursor: pointer;
                font-weight: 600;
                transition: 0.3s;
                font-size: 0.9rem;
            }
            .share-trigger:hover { background: var(--accent-blue); border-color: var(--accent-blue); }
            
            .content { font-size: 1.2rem; line-height: 1.8; color: var(--text-secondary); margin-top: 30px; }
            .back-btn { display: inline-block; width: 100%; padding: 18px; background: #1e293b; color: white; border: 1px solid var(--border-color); border-radius: 12px; cursor: pointer; font-weight: bold; text-align: center; text-decoration: none; margin-top: 50px; }
            @media (max-width: 768px) { nav { padding: 0 20px; } }
        </style>
    </head>
    <body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W5BV7BH4"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
        <nav>
            <a href="index.html" class="logo">PRO<span>TECH</span></a>
            <ul class="nav-list">
                <li><a href="index.html">Home</a></li>
            </ul>
        </nav>
        <div class="wrapper">
            <main id="post-content"></main>
        </div>

        <script src="data.js"></script>
        <script>
            function updateMetaTags(article) {
                const metaDesc = article.desc.substring(0, 160);
                const updateOrCreate = (name, content, isProperty = false) => {
                    const attr = isProperty ? 'property' : 'name';
                    let el = document.querySelector(`meta[${attr}="${name}"]`);
                    if (!el) { el = document.createElement('meta'); el.setAttribute(attr, name); document.head.appendChild(el); }
                    el.setAttribute('content', content);
                };
                updateOrCreate('description', metaDesc);
                updateOrCreate('og:title', article.title, true);
                updateOrCreate('og:image', article.img, true);
                updateOrCreate('twitter:card', 'summary_large_image');
            }

            async function shareArticle(title, text) {
                if (navigator.share) {
                    try {
                        await navigator.share({
                            title: title,
                            text: text,
                            url: window.location.href
                        });
                    } catch (err) { console.log("Share cancelled"); }
                } else {
                    alert("Sharing not supported on this browser. Copy the URL instead.");
                }
            }

            function loadArticle() {
                const params = new URLSearchParams(window.location.search);
                const id = params.get("id");
                const path = window.location.pathname.replace("/", "");
                const article = articles.find(a => a.id == id || a.slug === path);
                const container = document.getElementById("post-content");

                if (!article) {
                    container.innerHTML = "<h1 style='text-align:center;'>Article Not Found</h1>";
                    return;
                }

                updateMetaTags(article);
                document.title = article.title + " | ProTech";

                container.innerHTML = `
                    <article>
                        <img src="${article.img}" class="article-img">
                        <span class="cat-tag">${article.cat}</span>
                        <h1 style="font-size: 2.5rem; margin: 20px 0;">${article.title}</h1>
                        
                        <div style="padding: 20px 0; border-top: 1px solid var(--border-color); border-bottom: 1px solid var(--border-color);">
                            <button class="share-trigger" onclick="shareArticle('${article.title}', '${article.desc.substring(0, 100)}')">
                                <i class="fa-solid fa-share-nodes"></i> Share this Article
                            </button>
                        </div>

                        <div class="content">${article.content || article.desc}</div>
                        <a href="index.html" class="back-btn">← Back to Home</a>
                    </article>
                `;
            }
            window.onload = loadArticle;
        </script>
<footer style="background:#0d0f16; padding:30px 20px; margin-top:50px; border-top:1px solid #1e293b; text-align:center; font-family:sans-serif;">
    <div style="margin-bottom: 15px; display:flex; justify-content:center; gap:15px; flex-wrap:wrap;">
        <a href="javascript:void(0)" onclick="showLegal('privacy')" style="color:#64748b; text-decoration:none; font-size:14px;">Privacy Policy</a>
        <a href="javascript:void(0)" onclick="showLegal('terms')" style="color:#64748b; text-decoration:none; font-size:14px;">Terms of Service</a>
        <a href="/" style="color:#64748b; text-decoration:none; font-size:14px;">Home</a>
    </div>
    <p style="color:#475569; font-size:12px; margin:0;">&copy; 2026 ProTech Magazine. All rights reserved.</p>
</footer>

<script>
window.showLegal = function (type) {
    const content = {
        privacy: { title: "Privacy Policy", text: "At ProTech, we prioritize your privacy. We use cookies to analyze site traffic and serve relevant ads through Google AdSense." },
        terms: { title: "Terms of Service", text: "By using our website, you agree to comply with these terms. Content is for informational purposes only." }
    };
    const modal = document.createElement("div");
    modal.id = "legal-modal-overlay";
    modal.style.cssText = "position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:100000; display:flex; align-items:center; justify-content:center; padding:15px; box-sizing:border-box;";
    modal.innerHTML = `
        <div style="background:#1e293b; padding:25px; border-radius:15px; width:90%; max-width:400px; border:1px solid #3b82f6; color:white; box-sizing:border-box; box-shadow: 0 10px 30px rgba(0,0,0,0.5);">
            <h2 style="color:#3b82f6; margin:0 0 15px 0;">` + content[type].title + `</h2>
            <p style="line-height:1.6; color:#cbd5e1; font-size:0.95rem;">` + content[type].text + `</p>
            <button onclick="document.getElementById('legal-modal-overlay').remove()" style="background:#3b82f6; color:white; border:none; padding:12px; border-radius:8px; cursor:pointer; width:100%; font-weight:bold; margin-top:15px;">Close</button>
        </div>`;
    document.body.appendChild(modal);
};
</script>
    </body>
</html>